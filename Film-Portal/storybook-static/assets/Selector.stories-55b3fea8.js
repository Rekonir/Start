import{j as y}from"./jsx-runtime-708f5a67.js";import{r as u}from"./index-c013ead5.js";import"./_commonjsHelpers-725317a4.js";const de="_filter_50whf_45",pe="_wraper_50whf_49",he="_selector_50whf_63",ge="_option_50whf_109",me="_filterBox_50whf_122",x={filter:de,wraper:pe,selector:he,option:ge,filterBox:me};/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}var L;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(L||(L={}));function ve(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,i;i=t.map((l,p)=>m(l,typeof l=="string"?null:l.state,p===0?"default":void 0));let o=c(n??i.length-1),a=L.Pop,s=null;function c(l){return Math.min(Math.max(l,0),i.length-1)}function f(){return i[o]}function m(l,p,v){p===void 0&&(p=null);let _=xe(i?f().pathname:"/",l,p,v);return ye(_.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(l)),_}function b(l){return typeof l=="string"?l:Ce(l)}return{get index(){return o},get action(){return a},get location(){return f()},createHref:b,createURL(l){return new URL(b(l),"http://localhost")},encodeLocation(l){let p=typeof l=="string"?I(l):l;return{pathname:p.pathname||"",search:p.search||"",hash:p.hash||""}},push(l,p){a=L.Push;let v=m(l,p);o+=1,i.splice(o,i.length,v),r&&s&&s({action:a,location:v,delta:1})},replace(l,p){a=L.Replace;let v=m(l,p);i[o]=v,r&&s&&s({action:a,location:v,delta:0})},go(l){a=L.Pop;let p=c(o+l),v=i[p];o=p,s&&s({action:a,location:v,delta:l})},listen(l){return s=l,()=>{s=null}}}}function P(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ye(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function be(){return Math.random().toString(36).substr(2,8)}function xe(e,t,n,r){return n===void 0&&(n=null),U({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?I(t):t,{state:n,key:t&&t.key||r||be()})}function Ce(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function I(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var G;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(G||(G={}));function Ne(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function we(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?I(e):e;return{pathname:n?n.startsWith("/")?n:Se(n,t):t,search:Le(r),hash:Oe(i)}}function Se(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _e(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=I(e):(i=U({},e),P(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(r||a==null)s=n;else{let b=t.length-1;if(a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),b-=1;i.pathname=h.join("/")}s=b>=0?t[b]:"/"}let c=we(i,s),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}const je=e=>e.join("/").replace(/\/\/+/g,"/"),Le=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,se=["post","put","patch","delete"];new Set(se);const Ee=["get",...se];new Set(Ee);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}const Ie=u.createContext(null),D=u.createContext(null),K=u.createContext(null),V=u.createContext({outlet:null,matches:[],isDataRoute:!1});function $(){return u.useContext(K)!=null}function ke(){return $()||P(!1),u.useContext(K).location}function ue(e){u.useContext(D).static||u.useLayoutEffect(e)}function Re(){let{isDataRoute:e}=u.useContext(V);return e?Me():Ue()}function Ue(){$()||P(!1);let{basename:e,navigator:t}=u.useContext(D),{matches:n}=u.useContext(V),{pathname:r}=ke(),i=JSON.stringify(Pe(n).map(s=>s.pathnameBase)),o=u.useRef(!1);return ue(()=>{o.current=!0}),u.useCallback(function(s,c){if(c===void 0&&(c={}),!o.current)return;if(typeof s=="number"){t.go(s);return}let f=_e(s,JSON.parse(i),r,c.relative==="path");e!=="/"&&(f.pathname=f.pathname==="/"?e:je([e,f.pathname])),(c.replace?t.replace:t.push)(f,c.state,c)},[e,t,i,r])}var F;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(F||(F={}));var W;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(W||(W={}));function Te(e){let t=u.useContext(Ie);return t||P(!1),t}function Ae(e){let t=u.useContext(V);return t||P(!1),t}function Be(e){let t=Ae(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}function Me(){let{router:e}=Te(F.UseNavigateStable),t=Be(W.UseNavigateStable),n=u.useRef(!1);return ue(()=>{n.current=!0}),u.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,M({fromRouteId:t},o)))},[e,t])}function Fe(e){let{basename:t,children:n,initialEntries:r,initialIndex:i}=e,o=u.useRef();o.current==null&&(o.current=ve({initialEntries:r,initialIndex:i,v5Compat:!0}));let a=o.current,[s,c]=u.useState({action:a.action,location:a.location});return u.useLayoutEffect(()=>a.listen(c),[a]),u.createElement(We,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}function We(e){let{basename:t="/",children:n=null,location:r,navigationType:i=L.Pop,navigator:o,static:a=!1}=e;$()&&P(!1);let s=t.replace(/^\/*/,"/"),c=u.useMemo(()=>({basename:s,navigator:o,static:a}),[s,o,a]);typeof r=="string"&&(r=I(r));let{pathname:f="/",search:m="",hash:b="",state:h=null,key:l="default"}=r,p=u.useMemo(()=>{let v=Ne(f,s);return v==null?null:{location:{pathname:v,search:m,hash:b,state:h,key:l},navigationType:i}},[s,f,m,b,h,l,i]);return p==null?null:u.createElement(D.Provider,{value:c},u.createElement(K.Provider,{children:n,value:p}))}var Y;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Y||(Y={}));new Promise(()=>{});const qe="_checkboxPoint_9hvx5_45",ze="_checkbox_9hvx5_45",Q={checkboxPoint:qe,checkbox:ze};function O(e){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(e)}function Je(e,t){if(O(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(O(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function le(e){var t=Je(e,"string");return O(t)==="symbol"?t:String(t)}function De(e,t,n){return t=le(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var X={};function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&X[t[0]]||(typeof t[0]=="string"&&(X[t[0]]=new Date),Ke.apply(void 0,t))}var ce=function(t,n){return function(){if(t.isInitialized)n();else{var r=function i(){setTimeout(function(){t.off("initialized",i)},0),n()};t.on("initialized",r)}}};function Z(e,t,n){e.loadNamespaces(t,ce(e,n))}function ee(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(function(i){e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,ce(e,r))}function Ve(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var a=function(c,f){var m=t.services.backendConnector.state["".concat(c,"|").concat(f)];return m===-1||m===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}function $e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t.languages||!t.languages.length)return q("i18n.languages were undefined or empty",t.languages),!0;var r=t.options.ignoreJSONStructure!==void 0;return r?t.hasLoadedNamespace(e,{lng:n.lng,precheck:function(o,a){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}):Ve(e,t,n)}var He=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ge={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ye=function(t){return Ge[t]},Qe=function(t){return t.replace(He,Ye)},Xe={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Qe};function Ze(){return Xe}var et;function tt(){return et}function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function rt(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var at=u.createContext(),it=function(){function e(){nt(this,e),this.usedNamespaces={}}return rt(e,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function ot(e){if(Array.isArray(e))return e}function st(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],c=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(m){f=!0,i=m}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return s}}function ne(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t){if(e){if(typeof e=="string")return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}}function lt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(e,t){return ot(e)||st(e,t)||ut(e,t)||lt()}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?re(Object(n),!0).forEach(function(r){De(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ft=function(t,n){var r=u.useRef();return u.useEffect(function(){r.current=n?r.current:t},[t,n]),r.current};function fe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.i18n,r=u.useContext(at)||{},i=r.i18n,o=r.defaultNS,a=n||i||tt();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new it),!a){q("You will need to pass in an i18next instance by using initReactI18next");var s=function(S,N){return typeof N=="string"?N:N&&O(N)==="object"&&typeof N.defaultValue=="string"?N.defaultValue:Array.isArray(S)?S[S.length-1]:S},c=[s,{},!1];return c.t=s,c.i18n={},c.ready=!1,c}a.options.react&&a.options.react.wait!==void 0&&q("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=B(B(B({},Ze()),a.options.react),t),m=f.useSuspense,b=f.keyPrefix,h=e||o||a.options&&a.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);var l=(a.isInitialized||a.initializedStoreOnce)&&h.every(function(w){return $e(w,a,f)});function p(){return a.getFixedT(t.lng||null,f.nsMode==="fallback"?h:h[0],b)}var v=u.useState(p),_=ct(v,2),k=_[0],d=_[1],g=h.join();t.lng&&(g="".concat(t.lng).concat(g));var j=ft(g),C=u.useRef(!0);u.useEffect(function(){var w=f.bindI18n,S=f.bindI18nStore;C.current=!0,!l&&!m&&(t.lng?ee(a,t.lng,h,function(){C.current&&d(p)}):Z(a,h,function(){C.current&&d(p)})),l&&j&&j!==g&&C.current&&d(p);function N(){C.current&&d(p)}return w&&a&&a.on(w,N),S&&a&&a.store.on(S,N),function(){C.current=!1,w&&a&&w.split(" ").forEach(function(T){return a.off(T,N)}),S&&a&&S.split(" ").forEach(function(T){return a.store.off(T,N)})}},[a,g]);var H=u.useRef(!0);u.useEffect(function(){C.current&&!H.current&&d(p),H.current=!1},[a,b]);var E=[k,a,l];if(E.t=k,E.i18n=a,E.ready=l,l||!l&&!m)return E;throw new Promise(function(w){t.lng?ee(a,t.lng,h,function(){return w()}):Z(a,h,function(){return w()})})}const z=({position:e,func:t})=>{const[n,r]=u.useState(!1),{i18n:i}=fe(),o=i.resolvedLanguage==="ru",a=s=>{r(s.target.checked),t(e,s.target.checked)};return y.jsxs("label",{className:Q.checkboxPoint,children:[y.jsx("input",{type:"checkbox","data-testid":"checkbox",checked:n,className:Q.checkbox,onChange:a,value:e.name_en,name:"genre"}),o?e.name_ru:e.name_en]},e.name_en)};try{z.displayName="Checkbox",z.__docgenInfo={description:"",displayName:"Checkbox",props:{position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"any"}},func:{defaultValue:null,description:"",name:"func",required:!1,type:{name:"any"}}}}}catch{}const J=({name:e,array:t,filter:n="none",func:r})=>{const[i,o]=u.useState(!1),a=()=>o(!i),s=u.useRef(null),c=d=>{var g;(g=s.current)!=null&&g.contains(d.target)||o(!1)};u.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]);const[f,m]=u.useState([]),b=(d,g)=>{const j=g?[...f,d.name_en]:f.filter(C=>C!==d.name_en);m(j)},h=Re(),l=(d=[])=>{let g="";return d.forEach(function(j,C){C===d.length-1?g=g+j:g=g+j+"+"}),g},p=d=>{let g="";window.location.pathname.includes("/movies")?g="/movies/":g="/admin/",g+=d,h(g,{replace:!0})};u.useEffect(()=>{p(l(f))},[f]);const v=d=>{r&&r(d.target.value)},{i18n:_}=fe(),k=_.resolvedLanguage==="ru";switch(n){case"genre":return y.jsx("div",{className:x.filter,children:y.jsxs("div",{className:x.wraper,children:[y.jsxs("div",{className:x.selector,"data-testid":"genre",onClick:a,id:e,children:[" ",e]}),i&&y.jsx("div",{className:x.filterBox,"data-testid":"genresBox",ref:s,children:t.map(d=>y.jsx(z,{position:d,func:b,"data-testid":"checkbox"},d))})]})});case"country":return y.jsx("div",{className:x.wraper,children:y.jsxs("select",{className:x.selector,id:e,onChange:v,children:[y.jsx("option",{className:x.option,value:"none",disabled:!0,selected:!0,children:e}),t.map(d=>y.jsx("option",{className:x.option,value:d,children:k?d.name_ru:d.name_en},d.name_en))]})});default:return y.jsx("div",{className:x.wraper,children:y.jsxs("select",{className:x.selector,id:e,onChange:v,children:[y.jsx("option",{className:x.option,value:"none",disabled:!0,selected:!0,children:e}),t.map(d=>y.jsx("option",{className:x.option,value:d,children:d},d))]})})}};try{J.displayName="Selector",J.__docgenInfo={description:"",displayName:"Selector",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},array:{defaultValue:null,description:"",name:"array",required:!0,type:{name:"any[]"}},filter:{defaultValue:{value:"none"},description:"",name:"filter",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"genre"'},{value:'"year"'},{value:'"country"'}]}},func:{defaultValue:null,description:"",name:"func",required:!1,type:{name:"((...args: any[]) => void) | undefined"}}}}}catch{}const gt={title:"Selector",component:J,argTypes:{array:{control:{type:"array"}}},decorators:[e=>y.jsx(Fe,{children:y.jsx(e,{})})]},R={args:{name:"Country",array:["USA","Russia"]}};var ae,ie,oe;R.parameters={...R.parameters,docs:{...(ae=R.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    name: 'Country',
    array: ['USA', 'Russia']
  }
}`,...(oe=(ie=R.parameters)==null?void 0:ie.docs)==null?void 0:oe.source}}};const mt=["Default"];export{R as Default,mt as __namedExportsOrder,gt as default};
//# sourceMappingURL=Selector.stories-55b3fea8.js.map
