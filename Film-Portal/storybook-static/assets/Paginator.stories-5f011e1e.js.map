{"version":3,"file":"Paginator.stories-5f011e1e.js","sources":["../../src/hooks/hooks.ts","../../src/components/UI/Paginator/Paginator.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport const useWindowWidth = () => {\r\n    const [windowWidth, setWindowWidth] = useState(document.documentElement.clientWidth);\r\n    \r\n    useEffect(() => {\r\n      const handleWindowResize = () => {\r\n        setWindowWidth(document.documentElement.clientWidth);\r\n      }\r\n    \r\n      window.addEventListener('resize', handleWindowResize);\r\n    \r\n      return () => {\r\n        window.removeEventListener('resize', handleWindowResize);\r\n      }\r\n    }, []);\r\n\r\n    return windowWidth;\r\n}\r\n\r\n\r\nexport const useWindowScrollY = () => {\r\n  const [scroll, setScroll] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setScroll(window.scrollY);\r\n    }\r\n\r\n    window.addEventListener('scroll', handleScroll);\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    }\r\n\r\n  }, []);\r\n\r\n  return scroll;\r\n}\r\n\r\n\r\nexport const useOutsideClick = (callback: () => void) => {\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const outsideClickHandler = (e: MouseEvent) => {\r\n        if (ref.current && !ref.current.contains(e.target as Node)) {\r\n          callback();\r\n        }\r\n    }\r\n\r\n    document.addEventListener('mousedown', outsideClickHandler);\r\n\r\n    return () => {\r\n        document.removeEventListener('mousedown', outsideClickHandler);\r\n    };\r\n\r\n  }, [callback])\r\n\r\n  return ref;\r\n}","import { FC, useEffect, useRef, useState } from 'react'\r\nimport styles from './Paginator.module.scss'\r\nimport { useWindowWidth } from '../../../hooks/hooks'\r\n\r\nexport interface PaginatorProps {\r\n  sliderWidth: number,\r\n  scroll: number\r\n}\r\n\r\nconst Paginator: FC<PaginatorProps> = ({sliderWidth, scroll}) => {\r\n\r\n  const paginatorRef = useRef<HTMLDivElement>(null)\r\n  const paginatorItemRef = useRef<HTMLDivElement>(null)\r\n  const paginatorWidth = paginatorRef.current ? paginatorRef.current.offsetWidth : 0\r\n  const paginatorItemWidth = paginatorItemRef.current ? paginatorItemRef.current.offsetWidth : 0\r\n  const [shift, setShift] = useState(0)\r\n  const windowWidth = useWindowWidth()\r\n\r\n  useEffect(() => {\r\n    setShift(scroll * (paginatorWidth - paginatorItemWidth) / (sliderWidth - windowWidth))\r\n  }, [scroll])\r\n\r\n  return (\r\n    <div className={styles.Paginanor} ref={paginatorRef}>\r\n      <div className={styles.paginatorItem} style={{transform: `translateX(${shift}px)`}} ref={paginatorItemRef}></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator"],"names":["useWindowWidth","windowWidth","setWindowWidth","useState","useEffect","handleWindowResize","Paginator","sliderWidth","scroll","paginatorRef","useRef","paginatorItemRef","paginatorWidth","paginatorItemWidth","shift","setShift","jsx","styles"],"mappings":"uNAEaA,EAAiB,IAAM,CAChC,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAS,SAAA,SAAS,gBAAgB,WAAW,EAEnFC,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAqB,IAAM,CAChBH,EAAA,SAAS,gBAAgB,WAAW,CAAA,EAG9C,cAAA,iBAAiB,SAAUG,CAAkB,EAE7C,IAAM,CACJ,OAAA,oBAAoB,SAAUA,CAAkB,CAAA,CAE3D,EAAG,CAAE,CAAA,EAEEJ,CACX,ECTAK,EAAA,CAAA,CAAA,YAAAC,EAAA,OAAAC,KAAA,CAEE,MAAAC,EAAAC,SAAA,IAAA,EACAC,EAAAD,SAAA,IAAA,EACAE,EAAAH,EAAA,QAAAA,EAAA,QAAA,YAAA,EACAI,EAAAF,EAAA,QAAAA,EAAA,QAAA,YAAA,EACA,CAAAG,EAAAC,CAAA,EAAAZ,EAAA,SAAA,CAAA,EACAF,EAAAD,IAEAI,OAAAA,EAAAA,UAAA,IAAA,CACEW,EAAAP,GAAAI,EAAAC,IAAAN,EAAAN,EAAA,CAAqF,EAAA,CAAAO,CAAA,CAAA,EAGvFQ,MAAA,MAAA,CAAA,UAAAC,EAAA,UAAA,IAAAR,EAAA,SAAAO,MAAA,MAAA,CAAA,UAAAC,EAAA,cAAA,MAAA,CAAA,UAAA,cAAAH,MAAA,EAAA,IAAAH,CAAA,CAAA,CAAA,CAAA,CAKF;;;;;"}